{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport ProTip from '../src/ProTip';\nimport Link from '../src/Link';\nimport Copyright from '../components/Copyright';\nimport { Router, useRouter } from 'next/router';\nimport Login from './signin';\nimport firebase from '../lib/firebase';\nexport default function Index() {\n  const router = useRouter();\n  const [type, setType] = React.useState(null);\n  firebase.auth().onAuthStateChanged(function (user) {\n    if (user) {\n      firebase.firestore().collection('users').doc(user.uid).get().then(doc => {\n        setType(doc.data().type);\n\n        if (doc.data().type == 0) {\n          router.push('/dashboard');\n        }\n\n        if (doc.data().type == 1) {\n          router.push('/admin');\n        }\n      });\n    } else {\n      setType(null);\n      router.push('/admin');\n    }\n  }); // const redirect = React.useCallback((path) => {\n  //   router.replace(path)\n  // })\n  // useEffect(()=>{\n  //   if(type===null){\n  //     redirect('/signin')\n  //   }\n  //   if(type===0){\n  //     router.push('/dashboard');\n  //   }\n  //   if(type==1){\n  //     redirect('/admin')\n  //   }\n  // },[type])\n\n  return /*#__PURE__*/_jsx(Login, {});\n  return /*#__PURE__*/_jsx(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsx(Box, {\n      my: 4,\n      children: /*#__PURE__*/_jsx(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Page Loading\"\n      })\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}