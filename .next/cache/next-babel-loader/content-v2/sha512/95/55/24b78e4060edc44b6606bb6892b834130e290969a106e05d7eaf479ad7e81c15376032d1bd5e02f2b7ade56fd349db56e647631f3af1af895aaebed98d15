{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AlignItemsList from './listview';\nimport firebase from '../lib/firebase';\nimport Fuse from 'fuse.js';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      width: '100%',\n      marginTop: '3vh'\n    },\n    pap: {\n      marginBottom: '5vh',\n      padding: '2px 4px',\n      display: 'flex',\n      width: 400\n    },\n    input: {\n      marginLeft: theme.spacing(1),\n      flex: 1\n    },\n    iconButton: {\n      padding: 10\n    },\n    divider: {\n      height: 28,\n      margin: 4\n    }\n  };\n});\nexport default function ViewUsers(props) {\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      users = _useState[0],\n      setUsers = _useState[1];\n\n  var _useState2 = useState([]),\n      filtered = _useState2[0],\n      setFiltered = _useState2[1];\n\n  var _useState3 = useState(''),\n      search = _useState3[0],\n      setSearch = _useState3[1];\n\n  var firestore = firebase.firestore();\n  useEffect(function () {\n    var fuse = new Fuse(users, {\n      keys: ['cid']\n    });\n    setFiltered(fuse.search(search));\n  }, [search]);\n  useEffect(function () {\n    firestore.collection('users').get().then(function (response) {\n      var lst = [];\n      response.forEach(function (user) {\n        lst.push(user.data());\n      });\n      setUsers(lst);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxs(Paper, {\n      component: \"form\",\n      className: classes.pap,\n      children: [/*#__PURE__*/_jsx(InputBase, {\n        className: classes.input,\n        placeholder: \"Search users by college id\",\n        value: search,\n        onChange: function onChange(Event) {\n          return setSearch(Event.target.value);\n        } // inputProps={{ 'aria-label': 'search google maps' }}\n\n      }), /*#__PURE__*/_jsx(Divider, {\n        className: classes.divider,\n        orientation: \"vertical\"\n      }), /*#__PURE__*/_jsx(IconButton, {\n        type: \"submit\",\n        className: classes.iconButton,\n        \"aria-label\": \"search\",\n        children: /*#__PURE__*/_jsx(SearchIcon, {})\n      })]\n    }), filtered.length > 0 && /*#__PURE__*/_jsx(AlignItemsList, {\n      users: filtered\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}