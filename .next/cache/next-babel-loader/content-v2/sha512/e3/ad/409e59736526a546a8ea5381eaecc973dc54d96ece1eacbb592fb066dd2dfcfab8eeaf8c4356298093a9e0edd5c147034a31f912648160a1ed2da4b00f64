{"ast":null,"code":"import _defineProperty from \"/home/pacman/Desktop/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/home/pacman/Desktop/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core';\nimport dynamic from 'next/dynamic';\nimport firebase from '../lib/firebase';\nimport { useSnackbar } from 'notistack';\nimport { useRouter } from 'next/router';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: '2vh 5vh 5vh 5vh'\n    }\n  };\n});\n\nfunction EditSkill(_ref) {\n  var _jsx2;\n\n  var card = _ref.card;\n  var classes = useStyles();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(card.name),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      skill = _React$useState4[0],\n      setSkill = _React$useState4[1];\n\n  var _React$useState5 = React.useState(card.description),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      description = _React$useState6[0],\n      setDescription = _React$useState6[1];\n\n  var _React$useState7 = React.useState(card.image),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      image = _React$useState8[0],\n      setImage = _React$useState8[1];\n\n  var firestore = firebase.firestore();\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var router = useRouter();\n\n  var handleSkillChange = function handleSkillChange(val) {\n    setSkill(val);\n  };\n\n  var handleDescriptionChange = function handleDescriptionChange(val) {\n    setDescription(val);\n  };\n\n  var handleImageChange = function handleImageChange(val) {\n    setImage(val);\n  };\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleSave = function handleSave() {\n    firestore.collection('skills').doc(card.id).set({\n      name: skill,\n      description: description,\n      image: image\n    }).then(function (response) {\n      enqueueSnackbar(\"Edit successful\", {\n        variant: 'success'\n      }); // router.reload()\n    })[\"catch\"](function (err) {\n      console.log(err);\n      enqueueSnackbar(\"An error occured\", {\n        variant: 'error'\n      });\n    });\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Button, {\n      size: \"small\",\n      onClick: handleClickOpen,\n      children: \"Edit Skill\"\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Edit Skill\"\n      }), /*#__PURE__*/_jsxs(DialogContent, {\n        className: classes.root,\n        children: [/*#__PURE__*/_jsx(DialogContentText, {\n          children: \"To Add or modify skill , please enter the required details.\"\n        }), /*#__PURE__*/_jsxs(Grid, {\n          container: true,\n          spacing: 5,\n          children: [/*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              id: \"name\",\n              value: skill,\n              onChange: function onChange(Event) {\n                return handleSkillChange(Event.target.value);\n              },\n              label: \"Skill Name\",\n              type: \"name\",\n              fullWidth: true\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              id: \"img\",\n              value: image,\n              onChange: function onChange(Event) {\n                return handleImageChange(Event.target.value);\n              },\n              label: \"Image URL\",\n              fullWidth: true\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              value: description,\n              onChange: function onChange(Event) {\n                return handleDescriptionChange(Event.target.value);\n              },\n              id: \"description\",\n              label: \"Skill Description\",\n              fullWidth: true\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, (_jsx2 = {\n          onClick: handleClose\n        }, _defineProperty(_jsx2, \"onClick\", handleSave), _defineProperty(_jsx2, \"color\", \"primary\"), _defineProperty(_jsx2, \"children\", \"Save\"), _jsx2))]\n      })]\n    })]\n  });\n}\n\nexport default EditSkill;","map":null,"metadata":{},"sourceType":"module"}