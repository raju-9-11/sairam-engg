{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Container from '@material-ui/core/Container';\nimport Copyright from '../components/Copyright';\nimport { makeStyles } from '@material-ui/core';\nimport { useEffect, useState } from 'react';\nimport { checkPassword, checkEmail, checkname, checkCid, checkExp } from '../lib/func';\nimport { useSnackbar } from 'notistack';\nimport { useAuth } from '../lib/auth';\nimport { useRouter } from 'next/router';\nconst useStyles = makeStyles({\n  root: {},\n  form: {},\n  button: {\n    marginTop: '3vh'\n  },\n  box: {\n    padding: '10vh',\n    paddingTop: '25vh'\n  }\n});\nexport default function Register() {\n  const {\n    user,\n    type\n  } = useAuth();\n  const classes = useStyles();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const router = useRouter();\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: password,\n    1: setPassword\n  } = useState('');\n  const {\n    0: years,\n    1: setYears\n  } = useState(0);\n  const {\n    0: firstName,\n    1: setFirstName\n  } = useState('');\n  const {\n    0: lastName,\n    1: setLastName\n  } = useState('');\n  const {\n    0: final,\n    1: setFinal\n  } = useState('');\n  const {\n    0: emailError,\n    1: setEmailError\n  } = useState('');\n  const {\n    0: passwordError,\n    1: setPasswordError\n  } = useState('');\n  const {\n    0: cidError,\n    1: setCidError\n  } = useState('');\n  const {\n    0: firstNameError,\n    1: setFirstNameError\n  } = useState('');\n  const {\n    0: lastNameError,\n    1: setLastNameError\n  } = useState('');\n  const {\n    0: expError,\n    1: setExpError\n  } = useState('');\n  const {\n    0: cid,\n    1: setCid\n  } = useState('');\n  const {\n    signupWithEmail,\n    signout\n  } = useAuth();\n\n  const handleSignUp = e => {\n    e.preventDefault();\n    setEmailError(checkEmail(email));\n    setFirstNameError(checkname(firstName));\n    setLastNameError(checkname(lastName));\n    setCidError(checkCid(cid));\n    setExpError(checkExp(years));\n    const val = checkEmail(email) + checkname(firstName) + checkname(lastName) + checkCid(cid) + checkExp(years);\n\n    if (val.length > 1) {\n      return;\n    }\n\n    signupWithEmail(email, process.env.NEXT_PUBLIC_DEFAULT_PASSWORD, firstName, 0, lastName, cid, years);\n    setEmail('');\n  };\n\n  return /*#__PURE__*/_jsxs(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsx(CssBaseline, {}), /*#__PURE__*/_jsx(Box, {\n      className: classes.form,\n      children: /*#__PURE__*/_jsxs(Box, {\n        component: \"form\",\n        noValidate: true,\n        sx: {\n          width: '100%',\n          // Fix IE11 issue.\n          mt: 3\n        },\n        children: [/*#__PURE__*/_jsxs(Grid, {\n          container: true,\n          spacing: 5,\n          children: [/*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoComplete: \"fname\",\n              name: \"firstName\",\n              required: true,\n              fullWidth: true,\n              value: firstName,\n              onChange: Event => setFirstName(Event.target.value),\n              error: firstNameError != '',\n              helperText: firstNameError,\n              id: \"firstName\",\n              label: \"First Name\",\n              variant: \"outlined\",\n              autoFocus: true\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              required: true,\n              fullWidth: true,\n              id: \"lastName\",\n              value: lastName,\n              onChange: Event => setLastName(Event.target.value),\n              error: lastNameError != '',\n              helperText: lastNameError,\n              label: \"Last Name\",\n              name: \"lastName\",\n              variant: \"outlined\",\n              autoComplete: \"lname\"\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoComplete: \"cid\",\n              name: \"collegeId\",\n              required: true,\n              fullWidth: true,\n              id: \"clgid\",\n              value: cid,\n              onChange: Event => setCid(Event.target.value),\n              error: cidError != '',\n              helperText: cidError,\n              label: \"College ID\",\n              autoFocus: true,\n              variant: \"outlined\"\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsx(TextField, {\n              required: true,\n              fullWidth: true,\n              value: email,\n              onChange: Event => setEmail(Event.target.value),\n              id: \"email\",\n              error: emailError != '',\n              helperText: emailError,\n              label: \"Email Address\",\n              name: \"email\",\n              variant: \"outlined\",\n              autoComplete: \"email\"\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsx(TextField, {\n              required: true,\n              fullWidth: true,\n              name: \"experience\",\n              label: \"Years of Experience\",\n              id: \"exp\",\n              error: expError != '',\n              helperText: expError,\n              value: years,\n              onChange: Event => setYears(Event.target.value),\n              type: \"number\",\n              autoComplete: \"exp\",\n              variant: \"outlined\"\n            })\n          })]\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: handleSignUp,\n          fullWidth: true,\n          variant: \"contained\",\n          sx: {\n            mt: 3,\n            mb: 2\n          },\n          className: classes.button,\n          children: \"Create Account\"\n        }), /*#__PURE__*/_jsx(Grid, {\n          container: true,\n          justify: \"flex-end\",\n          className: classes.button\n        })]\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}