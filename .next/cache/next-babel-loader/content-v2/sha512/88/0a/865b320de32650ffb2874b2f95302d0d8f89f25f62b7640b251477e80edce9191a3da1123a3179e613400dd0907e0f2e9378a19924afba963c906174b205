{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/home/pacman/Desktop/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect } from 'react';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Copyright from '../components/Copyright';\nimport { Router, useRouter } from 'next/router';\nimport SimpleBackdrop from '../components/backDrop';\nimport firebase from '../lib/firebase';\nimport { useAuth } from '../lib/auth';\nimport Dashboard from './dashboard';\nimport Admin from './admin';\nimport Login from './signin';\nexport default function Index() {\n  var router = useRouter();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      type = _React$useState2[0],\n      setType = _React$useState2[1];\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  useEffect(function () {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        firebase.firestore().collection('users').doc(user.uid).get().then(function (doc) {\n          setType(doc.data().type);\n        });\n      } else {\n        setType(null);\n      }\n    });\n  }, [user, type]);\n\n  if (type == 0) {\n    return /*#__PURE__*/_jsx(Dashboard, {});\n  } else if (type == 1) {\n    return /*#__PURE__*/_jsx(Admin, {});\n  } else {\n    return /*#__PURE__*/_jsx(Login, {});\n  } // const redirect = React.useCallback((path) => {\n  //   router.replace(path)\n  // })\n  //   if(type===null){\n  //     redirect('/signin')\n  //   }\n  //   if(type===0){\n  //     router.push('/dashboard');\n  //   }\n  //   if(type==1){\n  //     redirect('/admin')\n  //   }\n\n\n  return /*#__PURE__*/_jsx(Container, {\n    maxWidth: \"sm\",\n    children: /*#__PURE__*/_jsxs(Box, {\n      my: 4,\n      children: [/*#__PURE__*/_jsx(SimpleBackdrop, {}), /*#__PURE__*/_jsx(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Page Loading\"\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}