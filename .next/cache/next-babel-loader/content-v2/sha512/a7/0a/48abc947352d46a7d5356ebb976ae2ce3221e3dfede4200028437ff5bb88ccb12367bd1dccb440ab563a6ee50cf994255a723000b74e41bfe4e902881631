{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _defineProperty from \"/home/pacman/Desktop/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/home/pacman/Desktop/nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { useSnackbar } from 'notistack';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core';\nimport firebase from '../lib/firebase';\nimport { useRouter } from 'next/router';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: '2vh 5vh 5vh 5vh'\n    }\n  };\n});\nexport default function AddSkill() {\n  var _jsx2;\n\n  var _useSnackbar = useSnackbar(),\n      enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      skill = _React$useState4[0],\n      setSkill = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      description = _React$useState6[0],\n      setDescription = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      image = _React$useState8[0],\n      setImage = _React$useState8[1];\n\n  var firestore = firebase.firestore();\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      nameError = _React$useState10[0],\n      setNameError = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      descError = _React$useState12[0],\n      setDecsError = _React$useState12[1];\n\n  var router = useRouter();\n\n  var handleSkillChange = function handleSkillChange(val) {\n    setSkill(val);\n  };\n\n  var handleDescriptionChange = function handleDescriptionChange(val) {\n    setDescription(val);\n  };\n\n  var handleImageChange = function handleImageChange(val) {\n    setImage(val);\n  };\n\n  var handleClickOpen = function handleClickOpen() {\n    setOpen(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var handleSave = function handleSave() {\n    setNameError(skill.length < 3 ? 'Name should be atleast 3 characters long' : '');\n    setDecsError(description.length < 3 ? 'Name should be atleast 3 characters long' : '');\n\n    if (skill.length < 3 || description.length < 3) {\n      return;\n    }\n\n    firestore.collection('skills').doc(skill.split(\" \").join(\"\").toLowerCase()).set({\n      name: skill,\n      description: description,\n      image: image\n    }).then(function (response) {\n      enqueueSnackbar(\"Skill added\", {\n        variant: 'success'\n      });\n      setSkill('');\n      setImage('');\n      setDescription(''); // router.reload()\n    })[\"catch\"](function (err) {\n      console.log(err);\n      enqueueSnackbar(\"An error occured\", {\n        variant: 'error'\n      });\n    });\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Button, {\n      size: \"small\",\n      onClick: handleClickOpen,\n      children: \"Add Skill\"\n    }), /*#__PURE__*/_jsxs(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsx(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"Add Skill\"\n      }), /*#__PURE__*/_jsxs(DialogContent, {\n        className: classes.root,\n        children: [/*#__PURE__*/_jsx(DialogContentText, {\n          children: \"To Add or modify skill , please enter the required details.\"\n        }), /*#__PURE__*/_jsxs(Grid, {\n          container: true,\n          spacing: 5,\n          children: [/*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              id: \"name\",\n              value: skill,\n              error: nameError != '',\n              helperText: nameError,\n              onChange: function onChange(Event) {\n                return handleSkillChange(Event.target.value);\n              },\n              label: \"Skill Name\",\n              type: \"name\",\n              fullWidth: true\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            children: /*#__PURE__*/_jsx(TextField, {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              id: \"img\",\n              value: image,\n              onChange: function onChange(Event) {\n                return handleImageChange(Event.target.value);\n              },\n              label: \"Image URL\",\n              fullWidth: true\n            })\n          }), /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            xs: 12,\n            children: /*#__PURE__*/_jsx(TextField, (_jsx2 = {\n              autoFocus: true,\n              variant: \"outlined\",\n              margin: \"dense\",\n              value: description,\n              helperText: descError\n            }, _defineProperty(_jsx2, \"value\", description), _defineProperty(_jsx2, \"onChange\", function onChange(Event) {\n              return handleDescriptionChange(Event.target.value);\n            }), _defineProperty(_jsx2, \"id\", \"description\"), _defineProperty(_jsx2, \"label\", \"Skill Description\"), _defineProperty(_jsx2, \"fullWidth\", true), _jsx2))\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(DialogActions, {\n        children: [/*#__PURE__*/_jsx(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }), /*#__PURE__*/_jsx(Button, {\n          onClick: handleSave,\n          color: \"primary\",\n          children: \"Save\"\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}